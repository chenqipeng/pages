---
title: float-precision
date: 2018-04-19 00:39:00
categories:
- stuff
tags:
- Javascript
- 计算机原理
---

对整数而言，整数的确是无限的，所以计算机中整数的有效表示范围是有限的是可以很容易理解的。而且，对于每一个在有效范围内的整数，其对应的二进制码也是可以唯一确定。所以，整数的精度不成问题（在有限范围内）。

然而对于浮点数来说，就是数学上的小数，精度问题在现在计算机系统来说是个无解的问题。小数（单纯讨论小数点后面的小数位），就是范围在(0,1)内的数字，在数学上的数轴表示，是无限的。然而在计算机存储系统中，由于可供存储的位数有限，必然是无法存储所有的浮点数，所以就导致了浮点数的精度问题。这就是从数学角度看浮点数在现有计算机科学上的精度问题。

从微观一点的角度来看，即一个浮点数在转换成二进制时，其值可能会是一个无限小数（可能是循环的，也可能是不循环的）。由于可供存储的位数有限，必然会导致“截断”，精度问题随此产生。

估计Javascript在针对浮点数的精度问题做处理时不及其他静态语言，所以这个问题在Javascript上显得尤为突出。

看了几个解决方案，内部原理都是将浮点型转换成整型（字符串操作）再做运算，运算后再转换会浮点数。